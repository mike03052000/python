<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/" />
<title>Python Database API</title>
<style type="text/css">

/* css */

body {
  font: 90% 'Lucida Grande', Verdana, Geneva, Lucida, Arial, Helvetica, sans-serif;
  background: #ffffff;
  color: black;
  margin: 2em;
  padding: 2em;
}

a[href] {
  color: #436976;
  background-color: transparent;
}

a.toc-backref {
  text-decoration: none;
}

h1 a[href] {
  text-decoration: none;
  color: #fcb100;
  background-color: transparent;
}

a.strong {
  font-weight: bold;
}

img {
  margin: 0;
  border: 0;
}

p {
  margin: 0.5em 0 1em 0;
  line-height: 1.5em;
}
p a {
  text-decoration: underline;
}
p a:visited {
  color: purple;
  background-color: transparent;
}
p a:active {
  color: red;
  background-color: transparent;
}
a:hover {
  text-decoration: none;
}
p img {
  border: 0;
  margin: 0;
}

h1, h2, h3, h4, h5, h6 {
  color: #003a6b;
  background-color: transparent;
  font: 100% 'Lucida Grande', Verdana, Geneva, Lucida, Arial, Helvetica, sans-serif;
  margin: 0;
  padding-top: 0.5em;
}

h1 {
  font-size: 160%;
  margin-bottom: 0.5em;
  border-bottom: 1px solid #fcb100;
}
h2 {
  font-size: 140%;
  margin-bottom: 0.5em;
  border-bottom: 1px solid #aaa;
}
h3 {
  font-size: 130%;
  margin-bottom: 0.5em;
  text-decoration: underline;
}
h4 {
  font-size: 110%;
  font-weight: bold;
}
h5 {
  font-size: 100%;
  font-weight: bold;
}
h6 {
  font-size: 80%;
  font-weight: bold;
}

ul a, ol a {
  text-decoration: underline;
}

dt {
  font-weight: bold;
}
dt a {
  text-decoration: none;
}

dd {
  line-height: 1.5em;
  margin-bottom: 1em;
}

legend {
  background: #ffffff;
  padding: 0.5em;
}

form {
  margin: 0;
}


dl.form {
  margin: 0;
  padding: 1em;
}

dl.form dt {
  width: 30%;
  float: left;
  margin: 0;
  padding: 0 0.5em 0.5em 0;
  text-align: right;
}

input {
  font: 100% 'Lucida Grande', Verdana, Geneva, Lucida, Arial, Helvetica, sans-serif;
  color: black;
  background-color: white;
  vertical-align: middle;
}

abbr, acronym, .explain {
  color: black;
  background-color: transparent;
}

q, blockquote {
}

code, pre {
  font-family: monospace;
  font-size: 1.2em;
  display: block;
  padding: 10px;
  border: 1px solid #838183;
  background-color: #eee;
  color: #000;
  overflow: auto;
  margin: 0.5em 1em;
}

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

tt.docutils {
  background-color: #eeeeee;
}

</style>
</head>
<body>
<div class="document" id="python-database-api">
<h1 class="title">Python Database API</h1>

<div class="section" id="querying-a-database">
<h1>Querying a database</h1>
<p>Use the <tt class="docutils literal">sqlite3</tt> module in the Python standard library to
complete the following exercises.</p>
<p>Write a script containing a function that displays information about a
table in a database: information about the table and all the rows in a
database.</p>
<p>Apply your script to the database file <tt class="docutils literal">data01.db</tt> in this
directory.  It contains a table named <tt class="docutils literal">plants</tt>.</p>
<ol class="arabic">
<li><p class="first">Open/create a connection to the database.</p>
</li>
<li><p class="first">Execute a query on the database -- example:</p>
<pre class="literal-block">
select * from plants
</pre>
</li>
<li><p class="first">Display the descriptions of the columns returned by the query.</p>
</li>
<li><p class="first">Display the number of rows returned as a result of the query.</p>
</li>
<li><p class="first">Display the &quot;raw&quot; results, that is each of the rows/tuples returned
by the query.</p>
</li>
<li><p class="first">Display each field (that is, each column) as follows:</p>
<ul class="simple">
<li>Name -- left justified in 12 spaces</li>
<li>Description -- left justified in 30 spaces</li>
<li>Rating -- right justified in 4 spaces</li>
</ul>
</li>
</ol>
<p>What you will learn:</p>
<ul class="simple">
<li>How to install a Python module/package.</li>
<li>How to use the Python database API.</li>
<li>How to create a connection to a database.</li>
<li>How to execute a query on a database.</li>
<li>How to process the results of a query.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="delete-a-row-from-a-database">
<h1>Delete a row from a database</h1>
<p>Write a function that deletes a row from the plants table in the
sample database.</p>
<p>First check to see whether the row exists in the database.  Print an
error message if it does not.</p>
<p>Modify your script so that it processes the following command lines:</p>
<pre class="literal-block">
python db_actions.py show
python db_actions.py delete plant_name
</pre>
<p>What you will learn:</p>
<ul class="simple">
<li>How to delete a row from a table in a database.</li>
<li>How to check for the existence of a row (that matches a query) in a
table in a database.</li>
<li>How to process arguments from the command line.</li>
</ul>
</div>
<div class="section" id="add-a-row-to-a-database">
<h1>Add a row to a database</h1>
<p>Write a function that adds a row to the plants table in the sample
database.</p>
<p>Modify your script so that it processes the following additional
command line:</p>
<pre class="literal-block">
python db_actions.py add plant_name description rating
</pre>
<p>What you will learn:</p>
<ul class="simple">
<li>How to insert a row into a database.</li>
</ul>
</div>
<div class="section" id="create-a-description-row-dictionary">
<h1>Create a description-row dictionary</h1>
<p>Write a function that takes the query (result) description
(<tt class="docutils literal">cursor.description</tt>) and a row as arguments, and which creates
and returns a dictionary whose keys are the names of the columns
and whose values are the corresponding values from that row.</p>
</div>
<div class="section" id="additional-information">
<h1>Additional information</h1>
<ul class="simple">
<li><a class="reference external" href="http://wiki.python.org/moin/DatabaseProgramming">DatabaseProgramming -- Starting point for learning about using
databases from Python --
http://wiki.python.org/moin/DatabaseProgramming</a></li>
<li><a class="reference external" href="http://www.python.org/dev/peps/pep-0249/">Python Database API Specification v2.0 --
http://www.python.org/dev/peps/pep-0249/</a></li>
<li><a class="reference external" href="http://gadfly.sourceforge.net/">GadflyB5: SQL Relational Database in Python --
http://gadfly.sourceforge.net/</a></li>
<li><a class="reference external" href="http://wiki.python.org/moin/DatabaseInterfaces">DatabaseInterfaces --
http://wiki.python.org/moin/DatabaseInterfaces</a></li>
<li><a class="reference external" href="http://wiki.python.org/moin/DbApiModuleComparison">DbApiModuleComparison --
http://wiki.python.org/moin/DbApiModuleComparison</a></li>
<li><a class="reference external" href="http://wiki.python.org/moin/DbApiCheatSheet">DbApiCheatSheet
http://wiki.python.org/moin/DbApiCheatSheet</a></li>
</ul>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="py_db_api.txt">View document source</a>.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>
